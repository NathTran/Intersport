<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu des Trios - Supports d'Affichage en Magasin</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        
        .subtitle {
            text-align: center;
            color: #764ba2;
            margin-bottom: 20px;
            font-size: 1.2em;
            font-weight: bold;
        }
        
        .instructions {
            background: #f0f4ff;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }
        
        .instructions h2 {
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .instructions p {
            margin: 5px 0;
            line-height: 1.6;
        }
        
        .game-area {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .column {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            min-height: 600px;
        }
        
        .column-title {
            font-size: 1.5em;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
            font-weight: bold;
            padding: 10px;
            border-radius: 10px;
        }
        
        .photos-column .column-title {
            background: #FFE5E5;
            color: #D32F2F;
        }
        
        .names-column .column-title {
            background: #E3F2FD;
            color: #1976D2;
        }
        
        .definitions-column .column-title {
            background: #E8F5E9;
            color: #388E3C;
        }
        
        .card {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
            position: relative;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }
        
        .card.selected {
            border-color: #667eea;
            background: #f0f4ff;
        }
        
        .card.matched {
            opacity: 0.5;
            pointer-events: none;
            border-color: #4CAF50;
            background: #e8f5e9;
        }
        
        .card.correct {
            border-color: #4CAF50;
            background: #e8f5e9;
            animation: correctPulse 0.5s;
        }
        
        .card.incorrect {
            border-color: #f44336;
            background: #ffebee;
            animation: shake 0.5s;
        }
        
        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        .photo-card img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 10px;
            background: #e0e0e0;
        }
        
        .photo-number {
            text-align: center;
            font-weight: bold;
            color: #D32F2F;
            font-size: 1.1em;
        }
        
        .name-card {
            text-align: center;
            font-weight: bold;
            color: #1976D2;
            font-size: 1.1em;
            padding: 20px 10px;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .definition-card {
            color: #388E3C;
            line-height: 1.6;
            font-size: 0.95em;
            min-height: 100px;
        }
        
        .match-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 1.2em;
        }
        
        .card.matched .match-indicator {
            display: flex;
            background: #4CAF50;
        }
        
        .progress {
            text-align: center;
            margin: 20px 0;
            font-size: 1.3em;
            color: #667eea;
            font-weight: bold;
        }
        
        .buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }
        
        button {
            padding: 15px 40px;
            font-size: 1.1em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .validate-btn {
            background: #4CAF50;
            color: white;
        }
        
        .validate-btn:hover:not(:disabled) {
            background: #45a049;
            transform: scale(1.05);
        }
        
        .validate-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .reset-btn {
            background: #ff9800;
            color: white;
        }
        
        .reset-btn:hover {
            background: #e68900;
            transform: scale(1.05);
        }
        
        .hint-btn {
            background: #2196F3;
            color: white;
        }
        
        .hint-btn:hover {
            background: #1976D2;
            transform: scale(1.05);
        }
        
        .pdf-btn {
            background: #9C27B0;
            color: white;
        }
        
        .pdf-btn:hover {
            background: #7B1FA2;
            transform: scale(1.05);
        }
        
        .result {
            text-align: center;
            padding: 20px;
            border-radius: 10px;
            font-size: 1.3em;
            font-weight: bold;
            margin-top: 20px;
            display: none;
        }
        
        .result.show {
            display: block;
        }
        
        .result.success {
            background: #4CAF50;
            color: white;
        }
        
        .result.partial {
            background: #ff9800;
            color: white;
        }
        
        .hint-message {
            text-align: center;
            padding: 15px;
            background: #E3F2FD;
            border-radius: 10px;
            margin: 15px 0;
            color: #1976D2;
            font-weight: bold;
            display: none;
        }
        
        .hint-message.show {
            display: block;
        }
        
        @media print {
            body {
                background: white;
                padding: 20px;
            }
            
            .container {
                box-shadow: none;
                padding: 20px;
            }
            
            .instructions, .game-area, .buttons, .hint-message {
                display: none !important;
            }
            
            .print-content {
                display: block !important;
            }
            
            h1 {
                color: #333;
                page-break-after: avoid;
            }
        }
        
        .print-content {
            display: none;
            page-break-inside: avoid;
        }
        
        .print-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }
        
        .print-header h2 {
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .print-score {
            font-size: 1.8em;
            color: #4CAF50;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .print-section {
            margin: 30px 0;
            page-break-inside: avoid;
        }
        
        .print-section h3 {
            color: #764ba2;
            margin-bottom: 15px;
            font-size: 1.4em;
            border-bottom: 2px solid #764ba2;
            padding-bottom: 10px;
        }
        
        .print-trio {
            margin: 15px 0;
            padding: 15px;
            background: #f8f9fa;
            border-left: 5px solid #4CAF50;
            page-break-inside: avoid;
        }
        
        .print-trio.incomplete {
            border-left-color: #ff9800;
            background: #fff8e1;
        }
        
        .print-trio-name {
            font-weight: bold;
            color: #333;
            font-size: 1.2em;
            margin-bottom: 8px;
        }
        
        .print-trio-def {
            color: #666;
            line-height: 1.6;
            margin-left: 20px;
        }
        
        .print-footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #ddd;
            text-align: center;
            color: #666;
        }
        
        @media (max-width: 1200px) {
            .game-area {
                grid-template-columns: 1fr;
            }
            
            .column {
                min-height: auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ Jeu des Trios</h1>
        <div class="subtitle">Supports d'Affichage en Magasin</div>
        
        <div class="instructions">
            <h2>üìã R√®gles du jeu :</h2>
            <p><strong>Objectif :</strong> Former des trios en associant chaque PHOTO + NOM + D√âFINITION</p>
            <p><strong>1.</strong> Clique sur une photo (colonne rouge)</p>
            <p><strong>2.</strong> Clique sur le nom correspondant (colonne bleue)</p>
            <p><strong>3.</strong> Clique sur la d√©finition correspondante (colonne verte)</p>
            <p><strong>4.</strong> Si les 3 √©l√©ments correspondent, le trio est valid√© automatiquement ‚úì</p>
            <p><strong>5.</strong> Continue jusqu'√† former les 13 trios !</p>
        </div>
        
        <div class="progress" id="progress">Trios form√©s : 0/13 üéØ</div>
        <div class="hint-message" id="hintMessage"></div>
        
        <div class="game-area">
            <div class="column photos-column">
                <div class="column-title">üì∏ PHOTOS</div>
                
                <div class="card photo-card" data-id="etiquette-prix" data-type="photo">
                    <img src="https://proebo.fr/promoplast-pharmacie/7538-large_default/tiquette-electronique-pharmacie-prix-29-pouces.jpg" alt="√âtiquette prix">
                    <div class="photo-number">Photo A</div>
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card photo-card" data-id="cadre-prix" data-type="photo">
                    <img src="https://m.media-amazon.com/images/I/71+wJFINVKL._AC_SL1394_.jpg" alt="Cadre prix">
                    <div class="photo-number">Photo B</div>
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card photo-card" data-id="stop-rayon" data-type="photo">
                    <img src="https://www.etiq-store.com/8409-large_default/stop-rayon-pour-porte-etiquette-electronique.jpg" alt="Stop-rayon">
                    <div class="photo-number">Photo C</div>
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card photo-card" data-id="presentoir" data-type="photo">
                    <img src="https://p.globalsources.com/IMAGES/PDT/B1195373714/Presentoir.jpg?ver=5852795619" alt="Pr√©sentoir">
                    <div class="photo-number">Photo D</div>
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card photo-card" data-id="kakemono" data-type="photo">
                    <img src="https://www.bache.fr/wp-content/uploads/2017/08/kakemono-1.jpg" alt="Kak√©mono">
                    <div class="photo-number">Photo E</div>
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card photo-card" data-id="affiche" data-type="photo">
                    <img src="https://www.conseilsmarketing.com/wp-content/uploads/2020/09/20170914_103310-rotated-640x853.jpg.webp" alt="Affiche">
                    <div class="photo-number">Photo F</div>
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card photo-card" data-id="ilv-produit" data-type="photo">
                    <img src="https://bardelli.fr/IMG/jpg/marketing-detail-ilv-produit.jpg" alt="ILV produit">
                    <div class="photo-number">Photo G</div>
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card photo-card" data-id="plv-promotion" data-type="photo">
                    <img src="https://www.fuveau.fr/wp-content/uploads/PLV.jpg" alt="PLV promotion">
                    <div class="photo-number">Photo H</div>
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card photo-card" data-id="bandeau-lineaire" data-type="photo">
                    <img src="http://www.techmay-etiquetage.fr/wp-content/uploads/2014/11/BandeRive.png" alt="Bandeau lin√©aire">
                    <div class="photo-number">Photo I</div>
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card photo-card" data-id="tete-gondole" data-type="photo">
                    <img src="https://tse4.mm.bing.net/th/id/OIP.f0-lhGzCMlxFZZ0U-lfo7QHaEl?rs=1&pid=ImgDetMain&o=7&rm=3" alt="T√™te de gondole">
                    <div class="photo-number">Photo J</div>
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card photo-card" data-id="chevalet" data-type="photo">
                    <img src="https://www.cdiscount.com/pdt2/0/7/5/1/550x550/plv9876540003075/rw/plv-ff25250-chevalet-a1-59-4-x-94-cm-2-faces.jpg" alt="Chevalet">
                    <div class="photo-number">Photo K</div>
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card photo-card" data-id="wobbler" data-type="photo">
                    <img src="https://static.vecteezy.com/system/resources/previews/000/105/202/non_2x/promotion-wobbler-vectors.jpg" alt="Wobbler">
                    <div class="photo-number">Photo L</div>
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card photo-card" data-id="fronton-rayon" data-type="photo">
                    <img src="https://imgix.cosmicjs.com/b240c5b0-d7f9-11eb-a1a6-c3f080da6c53-plvfronton1.jpg?q=&w=565&h=424?q=&w=560&h=340&fit=crop&crop=bottom," alt="Fronton rayon">
                    <div class="photo-number">Photo M</div>
                    <div class="match-indicator">‚úì</div>
                </div>
            </div>
            
            <div class="column names-column">
                <div class="column-title">üè∑Ô∏è NOMS</div>
                
                <div class="card name-card" data-id="wobbler" data-type="name">
                    Wobbler
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card name-card" data-id="tete-gondole" data-type="name">
                    T√™te de Gondole
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card name-card" data-id="kakemono" data-type="name">
                    Kak√©mono
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card name-card" data-id="etiquette-prix" data-type="name">
                    √âtiquette Prix
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card name-card" data-id="fronton-rayon" data-type="name">
                    Fronton de Rayon
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card name-card" data-id="plv-promotion" data-type="name">
                    PLV Promotion
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card name-card" data-id="presentoir" data-type="name">
                    Pr√©sentoir
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card name-card" data-id="bandeau-lineaire" data-type="name">
                    Bandeau de Lin√©aire
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card name-card" data-id="cadre-prix" data-type="name">
                    Cadre Prix
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card name-card" data-id="affiche" data-type="name">
                    Affiche
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card name-card" data-id="ilv-produit" data-type="name">
                    ILV Produit
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card name-card" data-id="stop-rayon" data-type="name">
                    Stop-Rayon
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card name-card" data-id="chevalet" data-type="name">
                    Chevalet
                    <div class="match-indicator">‚úì</div>
                </div>
            </div>
            
            <div class="column definitions-column">
                <div class="column-title">üìñ D√âFINITIONS</div>
                
                <div class="card definition-card" data-id="presentoir" data-type="definition">
                    Meuble ou support qui pr√©sente les produits de fa√ßon attractive pour donner envie de les acheter. 
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card definition-card" data-id="stop-rayon" data-type="definition">
                    Panneau vertical fix√© sur le c√¥t√© du rayon. On le voit de loin pour rep√©rer une promo ou un type de produit. 
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card definition-card" data-id="fronton-rayon" data-type="definition">
                    Grand panneau horizontal en haut du rayon. Il indique quelle cat√©gorie de produits se trouve dans ce rayon. 
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card definition-card" data-id="chevalet" data-type="definition">
                    Support avec deux pieds pos√© devant le magasin (sur le trottoir). Il pr√©sente une affiche pour attirer les clients qui passent.
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card definition-card" data-id="kakemono" data-type="definition">
                    Grande affiche verticale suspendue (souvent en tissu), tr√®s visible. Sert √† faire de la publicit√© pour une marque. 
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card definition-card" data-id="etiquette-prix" data-type="definition">
                    Petite √©tiquette obligatoire qui indique le prix du produit. Elle peut aussi donner la taille, la couleur ou la r√©f√©rence. 
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card definition-card" data-id="wobbler" data-type="definition">
                    Petit panneau qui bouge, fix√© sur un ressort sur le rayon. Il attire l'attention gr√¢ce √† son mouvement. 
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card definition-card" data-id="bandeau-lineaire" data-type="definition">
                    Bande horizontale fix√©e sur le bord de l'√©tag√®re pour attirer l'≈ìil sur un produit en promotion. 
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card definition-card" data-id="ilv-produit" data-type="definition">
                    Support qui donne des informations utiles sur le produit (mode d'emploi, conseils, entretien) sans faire de pub pour une marque. 
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card definition-card" data-id="tete-gondole" data-type="definition">
                    Espace au bout du rayon, tr√®s visible. Les marques paient cher pour y mettre leurs produits en avant. 
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card definition-card" data-id="plv-promotion" data-type="definition">
                    Publicit√© qui met en avant une marque ou un produit avec des prix barr√©s, des promos ou "NOUVEAU". √áa donne envie d'acheter. 
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card definition-card" data-id="cadre-prix" data-type="definition">
                    Petit support en plastique qui tient l'√©tiquette de prix sur le rayon. Il se clipse facilement. 
                    <div class="match-indicator">‚úì</div>
                </div>
                
                <div class="card definition-card" data-id="affiche" data-type="definition">
                    Support en papier ou carton fix√© au mur. Peut faire de la pub (PLV) ou donner des infos (ILV). 
                    <div class="match-indicator">‚úì</div>
                </div>
            </div>
        </div>
        
        <div class="buttons">
            <button class="hint-btn" id="hintBtn">üí° Indice</button>
            <button class="pdf-btn" id="pdfBtn">üìÑ Sauvegarder en PDF</button>
            <button class="reset-btn" id="resetBtn">üîÑ Recommencer</button>
        </div>
        
        <div class="result" id="result"></div>  
        <!-- Contenu pour l'impression PDF -->
        <div class="print-content" id="printContent">
            <div class="print-header">
                <h2>üè™ Jeu des Trios - Supports d'Affichage en Magasin</h2>
                <p>R√©sultats de l'activit√©</p>
                <div class="print-score" id="printScore"></div>
            </div>
            
            <div class="print-section" id="printMatched"></div>
            <div class="print-section" id="printRemaining"></div>
            
            <div class="print-footer" id="printFooter"></div>
        </div>
       </div>
    <script>
        let selection = { photo: null, name: null, definition: null };
        let matchedTrios = new Set();
        let totalTrios = 13;

        const cards = document.querySelectorAll('.card');
        const hintBtn = document.getElementById('hintBtn');
        const pdfBtn = document.getElementById('pdfBtn');
        const resetBtn = document.getElementById('resetBtn');
        const progressDiv = document.getElementById('progress');
        const resultDiv = document.getElementById('result');
        const hintMessage = document.getElementById('hintMessage');
                const supportData = {
            'etiquette-prix': {
                name: '√âtiquette Prix',
                def: 'Petite √©tiquette obligatoire qui indique le prix du produit. Elle peut aussi donner la taille, la couleur ou la r√©f√©rence.'
            },
            'cadre-prix': {
                name: 'Cadre Prix',
                def: 'Petit support en plastique qui tient l\'√©tiquette de prix sur le rayon. Il se clipse facilement.'
            },
            'stop-rayon': {
                name: 'Stop-Rayon',
                def: 'Panneau vertical fix√© sur le c√¥t√© du rayon. On le voit de loin pour rep√©rer une promo ou un type de produit.'
            },
            'presentoir': {
                name: 'Pr√©sentoir',
                def: 'Meuble ou support qui pr√©sente les produits de fa√ßon attractive pour donner envie de les acheter.'
            },
            'kakemono': {
                name: 'Kak√©mono',
                def: 'Grande affiche verticale suspendue (souvent en tissu), tr√®s visible. Sert √† faire de la publicit√© pour une marque.'
            },
            'affiche': {
                name: 'Affiche',
                def: 'Support en papier ou carton fix√© au mur. Peut faire de la pub (PLV) ou donner des infos (ILV).'
            },
            'ilv-produit': {
                name: 'ILV Produit',
                def: 'Support qui donne des informations utiles sur le produit (mode d\'emploi, conseils, entretien) sans faire de pub pour une marque.'
            },
            'plv-promotion': {
                name: 'PLV Promotion',
                def: 'Publicit√© qui met en avant une marque ou un produit avec des prix barr√©s, des promos ou "NOUVEAU". √áa donne envie d\'acheter.'
            },
            'bandeau-lineaire': {
                name: 'Bandeau de Lin√©aire',
                def: 'Bande horizontale fix√©e sur le bord de l\'√©tag√®re pour attirer l\'≈ìil sur un produit en promotion.'
            },
            'tete-gondole': {
                name: 'T√™te de Gondole',
                def: 'Espace au bout du rayon, tr√®s visible. Les marques paient cher pour y mettre leurs produits en avant.'
            },
            'chevalet': {
                name: 'Chevalet',
                def: 'Support avec deux pieds pos√© devant le magasin (sur le trottoir). Il pr√©sente une affiche pour attirer les clients qui passent.'
            },
            'wobbler': {
                name: 'Wobbler',
                def: 'Petit panneau qui bouge, fix√© sur un ressort sur le rayon. Il attire l\'attention gr√¢ce √† son mouvement.'
            },
            'fronton-rayon': {
                name: 'Fronton de Rayon',
                def: 'Grand panneau horizontal en haut du rayon. Il indique quelle cat√©gorie de produits se trouve dans ce rayon.'
            }
        };

        function updateProgress() {
            const count = matchedTrios.size;
            progressDiv.textContent = `Trios form√©s : ${count}/${totalTrios} üéØ`;
            
            if (count === totalTrios) {
                showVictory();
            }
        }

        function showVictory() {
            resultDiv.classList.add('success', 'show');
            resultDiv.textContent = 'üéâ BRAVO ! Tu as trouv√© tous les trios ! Parfait ! üéâ';
            resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function checkTrio() {
            const { photo, name, definition } = selection;
            
            if (photo && name && definition) {
                if (photo === name && name === definition) {
                    // Trio correct !
                    matchedTrios.add(photo);
                    
                    // Marquer les cartes comme matched
                    cards.forEach(card => {
                        if (card.dataset.id === photo) {
                            card.classList.remove('selected', 'incorrect');
                            card.classList.add('matched');
                        }
                    });
                    
                    // Feedback visuel positif
                    showHint('‚úÖ Trio correct ! Continue !', 'success');
                    
                    // Reset selection
                    selection = { photo: null, name: null, definition: null };
                    updateProgress();
                } else {
                    // Trio incorrect
                    cards.forEach(card => {
                        if (card.classList.contains('selected')) {
                            card.classList.add('incorrect');
                            setTimeout(() => {
                                card.classList.remove('incorrect', 'selected');
                            }, 800);
                        }
                    });
                    
                    showHint('‚ùå Ce trio ne correspond pas. R√©essaye !', 'error');
                    selection = { photo: null, name: null, definition: null };
                }
            }
        }

        function showHint(message, type) {
            hintMessage.textContent = message;
            hintMessage.className = 'hint-message show';
            if (type === 'error') {
                hintMessage.style.background = '#FFEBEE';
                hintMessage.style.color = '#C62828';
            } else {
                hintMessage.style.background = '#E8F5E9';
                hintMessage.style.color = '#2E7D32';
            }
            
            setTimeout(() => {
                hintMessage.classList.remove('show');
            }, 2000);
        }

        cards.forEach(card => {
            card.addEventListener('click', () => {
                if (card.classList.contains('matched')) return;
                
                const type = card.dataset.type;
                const id = card.dataset.id;
                
                // D√©s√©lectionner les autres cartes du m√™me type
                cards.forEach(c => {
                    if (c.dataset.type === type && c !== card) {
                        c.classList.remove('selected');
                    }
                });
                
                // Toggle selection
                if (selection[type] === id) {
                    card.classList.remove('selected');
                    selection[type] = null;
                } else {
                    card.classList.add('selected');
                    selection[type] = id;
                }
                
                // V√©rifier si on a un trio complet
                checkTrio();
            });
        });

        hintBtn.addEventListener('click', () => {
            const unmatchedIds = [];
            cards.forEach(card => {
                if (!card.classList.contains('matched') && card.dataset.type === 'photo') {
                    unmatchedIds.push(card.dataset.id);
                }
            });
            
            if (unmatchedIds.length > 0) {
                const randomId = unmatchedIds[Math.floor(Math.random() * unmatchedIds.length)];
                
                cards.forEach(card => {
                    if (card.dataset.id === randomId) {
                        card.style.boxShadow = '0 0 20px 5px #FFD700';
                        setTimeout(() => {
                            card.style.boxShadow = '';
                        }, 2000);
                    }
                });
                
                showHint('üí° Les cartes qui brillent forment un trio !', 'success');
            }
        });

      pdfBtn.addEventListener('click', () => {
            generatePDF();
        });

        function generatePDF() {
            const printScore = document.getElementById('printScore');
            const printMatched = document.getElementById('printMatched');
            const printRemaining = document.getElementById('printRemaining');
            const printFooter = document.getElementById('printFooter');
            
            const score = matchedTrios.size;
            const percentage = Math.round((score / totalTrios) * 100);
            printScore.innerHTML = `Score : ${score}/${totalTrios} trios trouv√©s (${percentage}%)`;
            
            if (matchedTrios.size > 0) {
                let matchedHTML = '<h3>‚úÖ Trios R√©ussis</h3>';
                matchedTrios.forEach(id => {
                    const data = supportData[id];
                    matchedHTML += `
                        <div class="print-trio">
                            <div class="print-trio-name">${data.name}</div>
                            <div class="print-trio-def">${data.def}</div>
                        </div>
                    `;
                });
                printMatched.innerHTML = matchedHTML;
            } else {
                printMatched.innerHTML = '';
            }
            
            const remaining = [];
            Object.keys(supportData).forEach(id => {
                if (!matchedTrios.has(id)) {
                    remaining.push(id);
                }
            });
            
            if (remaining.length > 0) {
                let remainingHTML = '<h3>üìã Trios Restants √† Trouver</h3>';
                remaining.forEach(id => {
                    const data = supportData[id];
                    remainingHTML += `
                        <div class="print-trio incomplete">
                            <div class="print-trio-name">${data.name}</div>
                            <div class="print-trio-def">${data.def}</div>
                        </div>
                    `;
                });
                printRemaining.innerHTML = remainingHTML;
            } else {
                printRemaining.innerHTML = '<h3>üéâ F√©licitations ! Tous les trios ont √©t√© trouv√©s !</h3>';
            }
            
            const date = new Date().toLocaleDateString('fr-FR', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            printFooter.innerHTML = `
                <p>Date : ${date}</p>
                <p>Activit√© p√©dagogique - Supports d'affichage en magasin</p>
            `;
            
            setTimeout(() => {
                window.print();
            }, 100);
        }

        resetBtn.addEventListener('click', () => {
            selection = { photo: null, name: null, definition: null };
            matchedTrios.clear();
            
            cards.forEach(card => {
                card.classList.remove('selected', 'matched', 'correct', 'incorrect');
            });
            
            resultDiv.classList.remove('show');
            hintMessage.classList.remove('show');
            updateProgress();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        updateProgress();
    </script>
</body>
</html>
